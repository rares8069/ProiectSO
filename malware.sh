#!/bin/bash

file_path="$1"


num_lines=$(wc -l < "$1")


num_words=$(wc -w < "$1")


num_chars=$(wc -m < "$1")


if [ "$num_lines" -lt 3 ] && [ "$num_words" -gt 1000 ] && [ "$num_chars" -gt 2000 ]; then
    exit 1
fi

echo $num_lines,$num_words,$num_chars

if grep -q -E "corrupted|dangerous|risk|attack|malware|virus" "$file_path" || grep -q -P "[^\x00-\x7F]" "$file_path"; then
    
    exit 1
else
    exit 0
fi
exit 0
